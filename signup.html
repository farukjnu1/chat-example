<!doctype html>
<html>
  <head>
    <title>Socket.IO chat</title>
    <link rel="shortcut icon" href="images/Graphicloads-100-Flat-2-Chat-2.ico">
    <style>
      
    </style>
    <script src="js/jquery-3.4.1.min.js"></script>
    <script>
       var oPosition = null;
       
        $(function () {
            getLocation();
            $('#btnSignUp').click(function(){
              var oUserInfo = {"latitude": oPosition.latitude,"longitude":oPosition.longitude, "userId":$('#txtUser').val()};
              sessionStorage.setItem('userInfo', JSON.stringify(oUserInfo));
              window.location.replace("http://localhost:3000/chat");
            });
        });

        function getLocation() {
          if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
          } else { 
            alert("Geolocation is not supported by this browser.");
          }
        }

        function showPosition(position) {
          oPosition = {"latitude":position.coords.latitude, "longitude":position.coords.longitude};
        }
    </script>
  </head>
  <body>
    <div id="divSignUp">
      <label>Name:</label><input type="text" id="txtUser" /><input type="button" id="btnSignUp" value="Sign Up">
    </div>
    
  </body>
</html>